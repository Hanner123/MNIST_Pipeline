schema: '2.0'
stages:
  train:
    cmd: python train.py
    deps:
    - path: train.py
      hash: md5
      md5: b522c1d3135f84f07bd3b48631978871
      size: 7284
    params:
      params.yaml:
        train.batch_size: 16
        train.lr: 0.5
    outs:
    - path: full_model.pth
      hash: md5
      md5: 2fe52a54e247031fd93a29d6273a9ced
      size: 104808
    - path: test_data.pt
      hash: md5
      md5: 85ba9721e8544873a4c67cc49a237d99
      size: 7921764
    - path: training_data.json
      hash: md5
      md5: 026f0c0cd9b89a23e7b96b39eee18ce6
      size: 1373
  evaluate:
    cmd: python evaluate.py
    deps:
    - path: evaluate.py
      hash: md5
      md5: 331c7b7121808657cdb88a77b2a6c6de
      size: 5782
    - path: full_model.pth
      hash: md5
      md5: 2fe52a54e247031fd93a29d6273a9ced
      size: 104808
    - path: test_data.pt
      hash: md5
      md5: 85ba9721e8544873a4c67cc49a237d99
      size: 7921764
    params:
      params.yaml:
        train.batch_size: 16
    outs:
    - path: confusion_matrix.csv
      hash: md5
      md5: 9d352108ae9a021788d2324f148a70f6
      size: 306
    - path: loss.png
      hash: md5
      md5: 1bf622142e8fbd3dc0ee359f4d1edfd5
      size: 31744
    - path: metrics.json
      hash: md5
      md5: d7335b764cb0c6634025e23af2cdab3a
      size: 932
  export:
    cmd: python export_model.py
    deps:
    - path: export_model.py
      hash: md5
      md5: aff4e312a5f54fb72e9397179117629d
      size: 720
    - path: full_model.pth
      hash: md5
      md5: 2fe52a54e247031fd93a29d6273a9ced
      size: 104808
    params:
      params.yaml:
        train.batch_size: 16
    outs:
    - path: mnist_model.onnx
      hash: md5
      md5: 5c1070f1c4c573d665eef40ebdbd2ab5
      size: 107739
  measure:
    cmd: python measure.py
    deps:
    - path: mnist_model.onnx
      hash: md5
      md5: 5c1070f1c4c573d665eef40ebdbd2ab5
      size: 107739
    - path: test_data.pt
      hash: md5
      md5: 85ba9721e8544873a4c67cc49a237d99
      size: 7921764
    outs:
    - path: tensorrt_inteference.txt
      hash: md5
      md5: 04d5ff1bed662f7fa7a6b64fe25777f9
      size: 255

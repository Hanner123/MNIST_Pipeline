schema: '2.0'
stages:
  train:
    cmd: python train.py
    deps:
    - path: train.py
      hash: md5
      md5: b522c1d3135f84f07bd3b48631978871
      size: 7284
    params:
      params.yaml:
        train.batch_size: 128
        train.lr: 0.05
    outs:
    - path: full_model.pth
      hash: md5
      md5: 0ea5e1c49255597180ca21d311bacff3
      size: 104808
    - path: test_data.pt
      hash: md5
      md5: 85ba9721e8544873a4c67cc49a237d99
      size: 7921764
    - path: training_data.json
      hash: md5
      md5: fcf50f363d9340916a573d0911f6e224
      size: 1374
  evaluate:
    cmd: python evaluate.py
    deps:
    - path: evaluate.py
      hash: md5
      md5: 331c7b7121808657cdb88a77b2a6c6de
      size: 5782
    - path: full_model.pth
      hash: md5
      md5: 0ea5e1c49255597180ca21d311bacff3
      size: 104808
    - path: test_data.pt
      hash: md5
      md5: 85ba9721e8544873a4c67cc49a237d99
      size: 7921764
    params:
      params.yaml:
        train.batch_size: 128
    outs:
    - path: confusion_matrix.csv
      hash: md5
      md5: 07185820fda6bd398bfecf6097b6d870
      size: 307
    - path: loss.png
      hash: md5
      md5: cc1286fa93e22e41e5466ab368023080
      size: 23198
    - path: metrics.json
      hash: md5
      md5: cac1631d75143213e12149fe6ea728ad
      size: 931
  export:
    cmd: python export_model.py
    deps:
    - path: export_model.py
      hash: md5
      md5: aff4e312a5f54fb72e9397179117629d
      size: 720
    - path: full_model.pth
      hash: md5
      md5: 0ea5e1c49255597180ca21d311bacff3
      size: 104808
    params:
      params.yaml:
        train.batch_size: 128
    outs:
    - path: mnist_model.onnx
      hash: md5
      md5: e0e28f76e3397ec90263ec9ba45cdb82
      size: 107747
  measure:
    cmd: python measure.py
    deps:
    - path: measure.py
      hash: md5
      md5: 86372f0e6ef049375ec07ff08954cb32
      size: 7680
    - path: mnist_model.onnx
      hash: md5
      md5: e0e28f76e3397ec90263ec9ba45cdb82
      size: 107747
    - path: test_data.pt
      hash: md5
      md5: 85ba9721e8544873a4c67cc49a237d99
      size: 7921764
    params:
      params.yaml:
        train.batch_size: 128
    outs:
    - path: tensorrt_inteference.txt
      hash: md5
      md5: 6ca452589f636834e0d82436e2899fbd
      size: 255

schema: '2.0'
stages:
  train:
    cmd: python train.py
    deps:
    - path: train.py
      hash: md5
      md5: 16d52085ca3e25abd770db56e6de1569
      size: 7170
    params:
      params.yaml:
        train.batch_size: 128
        train.lr: 0.05
    outs:
    - path: full_model.pth
      hash: md5
      md5: 30c879e6ef6e287b163486c739d30ad8
      size: 104808
    - path: test_data.pt
      hash: md5
      md5: 85ba9721e8544873a4c67cc49a237d99
      size: 7921764
    - path: training_data.json
      hash: md5
      md5: a3e7f84c4ca881018468935b76f273e8
      size: 1830
  evaluate:
    cmd: python evaluate.py
    deps:
    - path: evaluate.py
      hash: md5
      md5: 331c7b7121808657cdb88a77b2a6c6de
      size: 5782
    - path: full_model.pth
      hash: md5
      md5: 30c879e6ef6e287b163486c739d30ad8
      size: 104808
    - path: test_data.pt
      hash: md5
      md5: 85ba9721e8544873a4c67cc49a237d99
      size: 7921764
    params:
      params.yaml:
        train.batch_size: 128
    outs:
    - path: confusion_matrix.csv
      hash: md5
      md5: b418bb951a8951aa95ca7f2e8d13e626
      size: 302
    - path: loss.png
      hash: md5
      md5: 1c8f7368a55391a4f35e7d2e1d2f1f94
      size: 23296
    - path: metrics.json
      hash: md5
      md5: 29cfebe17634a51dbdccbc272a0816c3
      size: 927
  export:
    cmd: python export_model.py
    deps:
    - path: export_model.py
      hash: md5
      md5: aff4e312a5f54fb72e9397179117629d
      size: 720
    - path: full_model.pth
      hash: md5
      md5: 30c879e6ef6e287b163486c739d30ad8
      size: 104808
    params:
      params.yaml:
        train.batch_size: 128
    outs:
    - path: mnist_model.onnx
      hash: md5
      md5: 90fd6b2381ed2fee7da5376e3b67d2b5
      size: 107747
  measure:
    cmd: python measure.py
    deps:
    - path: bar_1.json
      hash: md5
      md5: 0fdbd8550be86dab537b2774fd48ab44
      size: 588
    - path: bar_2.json
      hash: md5
      md5: 0f382622906662c194b7df208f29de8e
      size: 598
    - path: measure.py
      hash: md5
      md5: 3e388733e274c0efe063928d7c1872f0
      size: 8241
    - path: mnist_model.onnx
      hash: md5
      md5: 90fd6b2381ed2fee7da5376e3b67d2b5
      size: 107747
    - path: test_data.pt
      hash: md5
      md5: 85ba9721e8544873a4c67cc49a237d99
      size: 7921764
    params:
      params.yaml:
        train.batch_size: 128
    outs:
    - path: tensorrt_inteference.txt
      hash: md5
      md5: ecbbbbe0e5b0e27f858e9c1e701f5506
      size: 255
    - path: throughput_results.json
      hash: md5
      md5: 0d877163b242a5f2eb08692e630862ea
      size: 1783
